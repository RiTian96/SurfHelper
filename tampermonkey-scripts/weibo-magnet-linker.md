# Weibo Magnet Linker - 微博磁力链自动补全

## 📋 脚本介绍

Weibo Magnet Linker 是一款专为微博设计的磁力链接增强工具，能够自动识别页面中的40位磁力哈希值，并自动补全为可点击的 magnet 链接，极大提升资源分享体验。

## ✨ 主要功能

### 🔗 核心功能
- **智能识别** - 自动识别页面中的40位磁力哈希值
- **自动补全** - 将哈希值自动转换为完整的磁力链接
- **一键点击** - 补全后的链接可直接点击下载
- **无感运行** - 后台自动处理，无需手动操作

### 🎯 技术特性
- **精确匹配** - 使用正则表达式精确匹配40位哈希值
- **智能过滤** - 避免在链接、代码等元素中误匹配
- **安全可靠** - 仅在前端运行，不收集用户数据
- **轻量高效** - 代码简洁，运行快速

## 🚀 安装使用

### 安装步骤
1. 确保已安装 [Tampermonkey](https://www.tampermonkey.net/) 油猴插件
2. 点击 [🔧 安装脚本](https://raw.githubusercontent.com/RiTian96/SurfHelper/main/tampermonkey-scripts/weibo-magnet-linker.user.js)
3. 在弹出的页面中点击"安装"

### 使用方法
1. 访问微博网站
2. 脚本会自动运行，无需额外操作
3. 页面中的磁力哈希值会自动转换为可点击链接
4. 直接点击链接即可调用下载工具

## 🌐 支持的网站

- **weibo.com** - 微博主站
- **s.weibo.com** - 微博搜索
- **d.weibo.com** - 微博发现

## ⚙️ 工作原理

### 识别规则
脚本使用以下正则表达式识别磁力哈希值：
```javascript
const MAGNET_REGEX = /\b([a-fA-F0-9]{40})\b/g;
```

### 转换规则
识别到的哈希值会自动添加 magnet 前缀：
```javascript
const MAGNET_PREFIX = 'magnet:?xt=urn:btih:';
```

### 安全过滤
为避免误操作，脚本会跳过以下元素：
- 已有的链接 (`<a>` 标签)
- 脚本代码 (`<script>` 标签)
- 样式表 (`<style>` 标签)
- 输入框 (`<textarea>`, `<input>` 标签)
- 代码块 (`<code>`, `<pre>` 标签)

## 🔧 技术特性

- **实时处理** - 动态监听页面变化，实时处理新内容
- **性能优化** - 智能DOM遍历，不影响页面性能
- **兼容性强** - 支持现代浏览器
- **无需权限** - 不需要特殊浏览器权限

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 🐛 问题反馈

如遇到问题或有功能建议，请通过以下方式联系：

- **TG频道：** https://t.me/SurfHelper_C
- **TG群组：** https://t.me/SurfHelper_G

---

*最后更新：2025年12月*